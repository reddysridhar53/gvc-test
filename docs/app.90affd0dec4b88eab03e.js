webpackJsonp([2,0],{0:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}var s=n(38),i=a(s),l=n(43),r=a(l),o=n(86),c=a(o),u=n(92),d=a(u),p=n(88),f=a(p),v=n(87),_=a(v);i.default.use(d.default);var P=[{path:"",component:f.default},{path:"/planets",component:f.default},{path:"/planets/:planetId",component:_.default}],g=new d.default({routes:P,mode:"history"});new i.default({el:"#app",store:r.default,router:g,render:function(t){return t(c.default)}})},39:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(24);e.default={computed:(0,a.mapState)({loadingPlanetById:function(t){return t.loadingPlanetById},planet:function(t){return t.planetById},residentsList:function(t){return t.residentsList},loadingPeopleOnPlanet:function(t){return t.loadingPeopleOnPlanet}}),created:function(){var t=this.$route.params.planetId;this.$store.dispatch("getPlanetById",t)},methods:{goToPlanets:function(){this.$router.push("/planets")}}}},40:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(24);e.default={computed:(0,a.mapState)({loadingPlanets:function(t){return t.loadingPlanets},planetsList:function(t){return t.searchQuery?t.filteredPlanetsList:t.planetsList},columns:function(t){return t.planetsColumns},sortOrder:function(t){return t.sortOrder},page:function(t){return t.page},totalCount:function(t){return t.totalCount}}),created:function(){this.$store.dispatch("getPlanets",1)},methods:{sortBy:function(t){"name"!==t&&"population"!==t||(this.sortKey=t,this.$store.dispatch("sortPlanets",t))},searchPlanets:function(t){this.$store.dispatch("searchPlanets",this.searchQuery)},getNextPage:function(){var t=this.page?this.page+1:1;this.$store.dispatch("getPlanets",t)},getPrevPage:function(){var t=this.page>=2?this.page-1:1;this.$store.dispatch("getPlanets",t)},goToPlanet:function(t){var e=this.page?10*(this.page-1)+(t+1):t+1;this.$router.push("planets/"+e)}},filters:{capitalize:function(t){return t.charAt(0).toUpperCase()+t.slice(1)}}}},41:function(t,e,n){"use strict";function a(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.getPlanetResidents=e.getPlanetById=e.getPlanets=void 0;var i=n(44),l=s(i),r=n(42),o=a(r),c=(e.getPlanets=function(t){var e={};return t&&(t="&page="+t),e.url=o.API_URL+"/planets"+o.DATA_FORMAT+t,e.method="GET",c(e)},e.getPlanetById=function(t){var e={};return e.url=o.API_URL+"/planets/"+t+o.DATA_FORMAT,e.method="GET",c(e)},e.getPlanetResidents=function(t){t=t.map(function(t){return{method:"GET",url:t}});var e=t.map(function(t){return c(t)});return l.default.all(e)},function(t){return new l.default(function(e,n){var a=new XMLHttpRequest||new ActiveXObject("Microsoft.XMLHTTP");a.onreadystatechange=function(){4==this.readyState&&200==this.status&&e(this.responseText)},a.open(t.method,t.url,!0),a.send()})})},42:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.API_URL="https://swapi.co/api",e.DATA_FORMAT="?format=json",e.DEFAULT_PAGE=1},43:function(t,e,n){"use strict";function a(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(38),l=s(i),r=n(24),o=s(r),c=n(41),u=a(c);l.default.use(o.default);var d={planetsList:[],planetById:{},loadingPlanets:!1,loadingPlanetById:!1,sortOrder:"asc",searchQuery:"",filteredPlanetsList:[],planetsColumns:["no","name","population","terrain"],page:1,loadingPeopleOnPlanet:!1,residentsList:{},totalCount:0},p={},f={getPlanets:function(t,e){var n=t.commit;t.state;n("getPlanets",e),u.getPlanets(e).then(function(t){var e=_(t);n("setTotalPlanets",e.count),n("setPlanets",e.results)},function(t){n("setPlantes",t)})},getPlanetById:function(t,e){var n=t.commit;t.state;n("getPlanetById"),u.getPlanetById(e).then(function(t){var e=_(t);return n("setPlanetById",e),u.getPlanetResidents(e.residents)}).then(function(t){n("setResidentsList",t)}).catch(function(t){console.log("Error: ",t)})},sortPlanets:function(t,e){var n=t.commit,a=t.state,s=a.planetsList,i="asc"===a.sortOrder?1:-1;s.sort(function(t,n){return t=t[e],n=n[e],"population"===e&&(t=parseInt(t,10),n=parseInt(n,10)),(t===n?0:t>n?1:-1)*i}),n("setPlanets",s)},searchPlanets:function(t,e){var n=t.commit,a=t.state,s=a.planetsList,i="name",l=s.filter(function(t){var n=t[i];return String(n).toLowerCase().indexOf(e)>-1});n("setSearchQuery",e),n("setFilteredPlanets",l)}},v={getPlanets:function(t,e){t.loadingPlanets=!0,t.page=e},setPlanets:function(t,e){var n=e;t.loadingPlanets=!1,t.sortOrder="asc"===t.sortOrder?"dsc":"asc",t.planetsList=n},setFilteredPlanets:function(t,e){t.filteredPlanetsList=e},setSearchQuery:function(t,e){t.searchQuery=e},getPlanetById:function(t){t.loadingPeopleOnPlanet=!0,t.loadingPlanetById=!0},setPlanetById:function(t,e){t.loadingPlanetById=!1,t.planetById=e},setPage:function(t,e){t.page=e},setResidentsList:function(t,e){t.loadingPeopleOnPlanet=!1,t.residentsList=e.map(function(t){return _(t)})},setTotalPlanets:function(t,e){t.totalCount=e}},_=function(t){return t&&JSON.parse(t)?JSON.parse(t):new Error("Something is wrong with the JSON Format: ")};e.default=new o.default.Store({namespaced:!0,state:d,getters:p,actions:f,mutations:v})},80:function(t,e){},81:function(t,e){},82:function(t,e){},86:function(t,e,n){n(82);var a=n(23)(null,n(91),null,null);t.exports=a.exports},87:function(t,e,n){n(81);var a=n(23)(n(39),n(90),"data-v-9e971c60",null);t.exports=a.exports},88:function(t,e,n){n(80);var a=n(23)(n(40),n(89),"data-v-656d2991",null);t.exports=a.exports},89:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main-container-inner"},[n("h1",[t._v("Planets in Galaxy")]),t._v(" "),n("div",{staticClass:"list-container"},[n("div",{staticClass:"planets-list-container"},[n("div",{staticClass:"search-query"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.searchQuery,expression:"searchQuery"}],staticClass:"search-input",attrs:{name:"query",placeholder:"search by planet name"},domProps:{value:t.searchQuery},on:{input:[function(e){e.target.composing||(t.searchQuery=e.target.value)},function(e){t.searchPlanets(this)}]}}),t._v(" "),n("div",{staticClass:"next-prev"},[n("div",{staticClass:"page-no"},[t._v("\n              "+t._s(t.page)+"/"+t._s(t.totalCount)+"\n            ")]),t._v(" "),n("button",{staticClass:"prev-btn btn",class:t.page>1?"active":"in-active",on:{click:function(e){t.getPrevPage()}}},[t._v("Prev")]),t._v(" "),n("button",{staticClass:"next-btn btn",class:t.page<t.totalCount-1?"active":"in-active",on:{click:function(e){t.getNextPage()}}},[t._v("Next")])])]),t._v(" "),t.loadingPlanets?n("div",{staticClass:"planets-list-loader"},[t._v("\n        loading...\n      ")]):t._e(),t._v(" "),!t.loadingPlanets&&t.planetsList.length?n("div",{staticClass:"planets-list-container-inner"},[n("table",{staticClass:"planets-table"},[n("thead",t._l(t.columns,function(e){return n("th",{key:e,class:{active:t.sortKey==e},on:{click:function(n){t.sortBy(e,t.sortOrder)}}},[t._v("\n              "+t._s(t._f("capitalize")(e))+"\n              "),"name"===e||"population"===e?n("span",{staticClass:"arrow",class:t.sortOrder}):t._e()])}),0),t._v(" "),n("tbody",t._l(t.planetsList,function(e,a){return n("tr",{key:e.name,staticClass:"planet-row",on:{click:function(e){t.goToPlanet(a)}}},t._l(t.columns,function(s){return n("td",{key:s},[t._v("\n                "+t._s("no"===s?a:e[s])+"\n              ")])}),0)}),0)])]):t._e()])])])},staticRenderFns:[]}},90:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"planet-details"},[t.loadingPlanetById?n("div",{staticClass:"planet-details-loader"},[t._v("\n    loading...\n  ")]):t._e(),t._v(" "),t.loadingPlanetById?t._e():n("div",{staticClass:"planet-details-inner"},[n("button",{staticClass:"btn",on:{click:function(e){t.goToPlanets()}}},[t._v("Go Back")]),t._v(" "),n("h1",[t._v(t._s(t.planet.name)+" -  Details")]),t._v(" "),n("div",{staticClass:"planet-info"},[n("div",{staticClass:"planet-info-row"},[n("div",{staticClass:"planet-info-col left"},[t._v("Name:")]),t._v(" "),n("div",{staticClass:"planet-info-col right"},[t._v(t._s(t.planet.name))])]),t._v(" "),n("div",{staticClass:"planet-info-row"},[n("div",{staticClass:"planet-info-col left"},[t._v("Created On:")]),t._v(" "),n("div",{staticClass:"planet-info-col right"},[t._v(t._s(new Date(t.planet.created).toDateString()))])]),t._v(" "),n("div",{staticClass:"planet-info-row"},[n("div",{staticClass:"planet-info-col left"},[t._v("Gravity:")]),t._v(" "),n("div",{staticClass:"planet-info-col right"},[t._v(t._s(t.planet.gravity))])]),t._v(" "),n("div",{staticClass:"planet-info-row"},[n("div",{staticClass:"planet-info-col left"},[t._v("Population:")]),t._v(" "),n("div",{staticClass:"planet-info-col right"},[t._v(t._s(t.planet.population))])]),t._v(" "),n("div",{staticClass:"planet-info-row"},[n("div",{staticClass:"planet-info-col left"},[t._v("Rotation Period:")]),t._v(" "),n("div",{staticClass:"planet-info-col right"},[t._v(t._s(t.planet.rotation_period))])])]),t._v(" "),!t.loadingPeopleOnPlanet&&t.residentsList.length?n("div",{staticClass:"planet-residents"},[n("ul",{staticClass:"residents-list"},[n("h3",[t._v("Residents:")]),t._v(" "),t._l(t.residentsList,function(e,a){return n("li",{key:a,staticClass:"residents-list-item"},[t._v("\n          "+t._s(e.name)+"\n        ")])})],2)]):t._e()])])},staticRenderFns:[]}},91:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main-container",attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]}}});
//# sourceMappingURL=app.90affd0dec4b88eab03e.js.map